#### Refund

Represents a refund made against a payment. This object is available in API version 48.0 and later.

##### Supported Calls
```
create(), delete(), describeLayout(), describeSObjects(), getDeleted(), getUpdated(), query(),
retrieve(), undelete(), update(), upsert()

```
Note: You can only delete a payment in draft state, which you specify in the Status field.

##### Special Access Rules

To access Salesforce Payments objects with the API, your org must have one or more of these licenses: Salesforce Payments, Salesforce
Order Management, B2B Commerce, or D2C Commerce. Salesforce Payments objects are available only in Lightning Experience.

##### Fields

```
AccountId
Amount

```

**Type**
reference

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
The customer account containing the payment that this refund targets.

This is a relationship field.

**Relationship Name**
Account

**Relationship Type**
Lookup

**Refers To**
Account

**Type**
currency


-----

```
Balance
CancellationDate
CancellationEffectiveDate
CancellationGatewayDate
CancellationGatewayRefNumber

```

**Properties**
Create, Filter, Sort, Update

**Description**
Total amount of this refund.

**Type**
currency

**Properties**
Filter, Nillable, Sort

**Description**
Remaining balance following refund line applications. Equal to the Amount field – the Net
Applied field.

**Type**
dateTime

**Properties**
Create, Filter, Nillable, Sort, Update

**Description**
The date that the refund was canceled. This is a required parameter for void services.

**Type**
dateTime

**Properties**
Create, Filter, Nillable, Sort, Update

**Description**
The date that the cancellation of this refund takes effect.

**Type**
dateTime

**Properties**
Create, Filter, Nillable, Sort, Update

**Description**
The date when the cancellation transaction was processed in the payment gateway.

**Type**
string

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
Unique ID for the cancellation transaction. Generated by the payment gateway.


-----

```
CancellationGatewayResultCode
CancellationSfResultCode
ClientContext
Comments
CurrencyIsoCode
Date

```

**Type**
string

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
Gateway-specific result code for the cancellation transaction. Generated by the payment
gateway. Must be mapped to a Salesforce-specific result code.

**Type**
string

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
Salesforce-specific result code that can map to one or more gateway result codes. We
recommend configuring the payment gateway adapter layer to map gateway result codes
to the appropriate Salesforce result code.

**Type**
textarea

**Properties**
Nillable

**Description**
Contains caller context for payment APIs. Useful for re-establishing context during an
asynchronous payment transaction.

**Type**
textarea

**Properties**
Create, Filter, Nillable, Sort, Update

**Description**
Users can add comments to provide additional details about a record. Maximum of 1000
characters.

**Type**
picklist

**Properties**
Create, Defaulted on create, Filter, Group, Nillable, Restricted picklist, Sort, Update

**Description**
Three-letter ISO 4217 currency code associated with the payment group record.

**Type**
dateTime


-----

```
EffectiveDate
Email
GatewayDate
GatewayRefNumber
GatewayResultCode
GatewayResultCodeDescription

```

**Properties**
Create, Defaulted on create, Filter, Nillable, Sort, Update

**Description**
The date and time that this refund was created.

**Type**
dateTime

**Properties**
Create, Filter, Nillable, Sort, Update

**Description**
Defines the date and time when the refund application becomes effective.

**Type**
email

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
Email address of the person who initiated the refund.

**Type**
dateTime

**Properties**
Create, Filter, Nillable, Sort, Update

**Description**
The date that a successful gateway communication caused the creation of this refund.

**Type**
string

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
Unique transaction ID created by the payment gateway.

**Type**
string

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
Gateway-specific result code. Must be mapped to a Salesforce-specific result code.

**Type**
string


-----

```
ImpactAmount
IpAddress
LastReferencedDate
LastViewedDate
MacAddress

```

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
Description of the GatewayResultCode. Useful for providing additional context as to why the
gateway returned a specific result code.

**Type**
currency

**Properties**
Filter, Nillable, Sort

**Description**
Shows the refund’s financial impact against the customer’s accounts receivable. If the refund
amount is valid, it equals the Amount field. Equals 0 when the refund amount is void. Has a
null value when the refund is canceled.

**Type**
string

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
The IP address of the person who initiated the payment.

**Type**
dateTime

**Properties**
Filter, Nillable, Sort

**Description**
The timestamp for when the current user last viewed a record related to this record.

**Type**
dateTime

**Properties**
Filter, Nillable, Sort

**Description**
The timestamp for when the current user last viewed this record. If this value is null, this
record can have been referenced (LastReferencedDate) but not viewed.

**Type**
string

**Properties**
Create, Filter, Group, Nillable, Sort, Update


-----

```
NetApplied
OrderPaymentSummaryId
PaymentGatewayId
PaymentGroupId

```

**Description**
The MAC address of the person who initiated the refund.

**Type**
currency

**Properties**
Filter, Nillable, Sort

**Description**
Equals the Total Applied field minus the Total Unapplied field.

**Type**
reference

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
Order payment summary record that shows the balances of each authorization, capture, and
refund made against an order.

**Type**
reference

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
The payment gateway used to process this refund.

This is a relationship field.

**Relationship Name**
PaymentGateway

**Relationship Type**
Lookup

**Refers To**
PaymentGateway

**Type**
reference

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
The payment group for the payment being refunded.

This is a relationship field.

**Relationship Name**
PaymentGroup


-----

```
PaymentID
PaymentIntentID
PaymentMethodId

```

**Relationship Type**
Lookup

**Refers To**
PaymentGroup

**Type**
reference

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
ID of the payment record.

This field is a relationship field.

**Relationship Name**
Payment

**Relationship Type**
Lookup

**Refers To**
Payment

**Type**
reference

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
ID of the payment intent record.

This field is a relationship field.

**Relationship Name**
PaymentIntent

**Relationship Type**
Lookup

**Refers To**
PaymentIntent

**Type**
reference

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
The payment method used to create the payment being refunded.

This is a relationship field.


-----

```
Phone
ProcessingMode
RefundNumber
SfResultCode

```

**Relationship Name**
PaymentMethod

**Relationship Type**
Lookup

**Refers To**
PaymentMethod

**Type**
phone

**Properties**
Create, Filter, Group, Nillable, Sort, Update

**Description**
Phone number of the customer who initiated the refund.

**Type**
picklist

**Properties**
Create, Filter, Group, Restricted picklist, Sort

**Description**
Defines whether the payment has been made outside of the payment platform.

Possible values are:

**•** `External: Transactions happened outside of the Salesforce payments platform.`

**•** `Salesforce: Salesforce made and recorded an external call to the payment gateway.`

**Type**
string

**Properties**
Autonumber, Defaulted on create, Filter, idLookup, Sort

**Description**
System-created unique ID for this refund.

**Type**
picklist

**Properties**
Create, Filter, Group, Nillable, Restricted picklist, Sort, Update

**Description**
Salesforce-specific result code that can map to one or more gateway result codes. We
recommend configuring the payment gateway adapter layer to map gateway result codes
to the appropriate Salesforce result code.

Possible values are:


-----

```
Status
TotalApplied

```


**•** `Decline: The gateway call failed but the transaction can be attempted again. For`
example, the customer had insufficient funds or briefly lost their connection.

**•** `Indeterminate: The gateway didn’t respond to the call. This response usually`
happens when Salesforce times out while waiting for a response from the gateway.

**•** `PermanentFail: The gateway call failed and can’t work even if tried again. Gateway`
calls fail permanently for one of two reasons:

**–** Hard Decline: The customer’s payment account has been closed or terminated.

**–** Fraud: The gateway recognized the payment or payment method as known fraud.

**•** `RequiresReview: The customer bank requires more information before completing`
the payment.

**•** `Success: The gateway call succeeded.`

**•** `SystemError: Salesforce ended the payment request before receiving a response.`
For example, Salesforce lost credentials or access to its server. Salesforce ends payment
calls if it doesn’t receive a response from the gateway within two minutes.

**•** `ValidationError: Customer payment data was incorrect, such as a misspelling in`
the credit card address or an incorrect CVV.

**Type**
picklist

**Properties**
Create, Filter, Group, Restricted picklist, Sort, Update

**Description**
Defines the state of this refund.

Possible values are:

**•** `Canceled: This refund has been voided and can no longer be allocated.`

**•** `Draft: The refund can be edited before posting it and allocating it to a target.`

**•** `Processed: This refund has been finalized and can be allocated against a target.`

Users can manually change the Status field’s values as follows:

**•** Draft to Processed

**•** Processed to Canceled

**•** Draft to Canceled

**Type**
currency

**Properties**
Filter, Nillable, Sort

**Description**
The sum of Amount fields across all of this refund’s applied refund lines.


-----

```
TotalUnapplied
Type

```

**Type**
currency

**Properties**
Filter, Nillable, Sort

**Description**
The sum of Amount fields across all of this refund’s unapplied refund lines.

**Type**
picklist

**Properties**
Create, Filter, Group, Restricted picklist, Sort, Update

**Description**
Defines how this refund is used.

Possible values are:

**•** `NonReferenced: Standalone refund not linked to any payment.`

**•** `Referenced: Refund made against a payment.`

